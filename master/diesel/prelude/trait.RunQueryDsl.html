<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Methods used to execute queries."><title>RunQueryDsl in diesel::prelude - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="diesel" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0-nightly (975e6c8fe 2025-09-23)" data-channel="nightly" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-061df703.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">RunQueryDsl</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../diesel/index.html">diesel</a><span class="version">2.3.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">RunQuery<wbr>Dsl</a></h2><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.execute" title="execute">execute</a></li><li><a href="#method.first" title="first">first</a></li><li><a href="#method.get_result" title="get_result">get_result</a></li><li><a href="#method.get_results" title="get_results">get_results</a></li><li><a href="#method.load" title="load">load</a></li><li><a href="#method.load_iter" title="load_iter">load_iter</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-RunQueryDsl%3CSqliteConnection%3E-for-(O,+InsertStatement%3CT,+BatchInsert%3CVec%3CValuesClause%3CV,+T%3E%3E,+T,+QId,+STATIC_QUERY_ID%3E,+Op%3E)" title="(O, InsertStatement&#60;T, BatchInsert&#60;Vec&#60;ValuesClause&#60;V, T&#62;&#62;, T, QId, STATIC_QUERY_ID&#62;, Op&#62;)">(O, InsertStatement&#60;T, BatchInsert&#60;Vec&#60;ValuesClause&#60;V, T&#62;&#62;, T, QId, STATIC_QUERY_ID&#62;, Op&#62;)</a></li><li><a href="#impl-RunQueryDsl%3CSqliteConnection%3E-for-(O,+InsertStatement%3CT,+OnConflictValues%3CBatchInsert%3CVec%3CValuesClause%3CV,+T%3E%3E,+T,+QId,+STATIC_QUERY_ID%3E,+Target,+ConflictOpt%3E,+Op%3E)" title="(O, InsertStatement&#60;T, OnConflictValues&#60;BatchInsert&#60;Vec&#60;ValuesClause&#60;V, T&#62;&#62;, T, QId, STATIC_QUERY_ID&#62;, Target, ConflictOpt&#62;, Op&#62;)">(O, InsertStatement&#60;T, OnConflictValues&#60;BatchInsert&#60;Vec&#60;ValuesClause&#60;V, T&#62;&#62;, T, QId, STATIC_QUERY_ID&#62;, Target, ConflictOpt&#62;, Op&#62;)</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In diesel::<wbr>prelude</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">diesel</a>::<wbr><a href="index.html">prelude</a></div><h1>Trait <span class="trait">RunQuery<wbr>Dsl</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/diesel/query_dsl/mod.rs.html#1443-1837">Source</a> </span></div><pre class="rust item-decl"><code>pub trait RunQueryDsl&lt;Conn&gt;: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> {
    // Provided methods
    fn <a href="#method.execute" class="fn">execute</a>(self, conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut Conn</a>) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;
       <span class="where">where Conn: <a class="trait" href="../connection/trait.Connection.html" title="trait diesel::connection::Connection">Connection</a>,
             Self: <a class="trait" href="../query_dsl/methods/trait.ExecuteDsl.html" title="trait diesel::query_dsl::methods::ExecuteDsl">ExecuteDsl</a>&lt;Conn&gt;</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.load" class="fn">load</a>&lt;'query, U&gt;(self, conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut Conn</a>) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;U&gt;&gt;
       <span class="where">where Self: <a class="trait" href="../query_dsl/methods/trait.LoadQuery.html" title="trait diesel::query_dsl::methods::LoadQuery">LoadQuery</a>&lt;'query, Conn, U&gt;</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.load_iter" class="fn">load_iter</a>&lt;'conn, 'query: 'conn, U, B&gt;(
        self,
        conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'conn mut Conn</a>,
    ) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;Self::<a class="associatedtype" href="../query_dsl/methods/trait.LoadQuery.html#associatedtype.RowIter" title="type diesel::query_dsl::methods::LoadQuery::RowIter">RowIter</a>&lt;'conn&gt;&gt;
       <span class="where">where U: 'conn,
             Self: <a class="trait" href="../query_dsl/methods/trait.LoadQuery.html" title="trait diesel::query_dsl::methods::LoadQuery">LoadQuery</a>&lt;'query, Conn, U, B&gt; + 'conn</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_result" class="fn">get_result</a>&lt;'query, U&gt;(self, conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut Conn</a>) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;U&gt;
       <span class="where">where Self: <a class="trait" href="../query_dsl/methods/trait.LoadQuery.html" title="trait diesel::query_dsl::methods::LoadQuery">LoadQuery</a>&lt;'query, Conn, U&gt;</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_results" class="fn">get_results</a>&lt;'query, U&gt;(self, conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut Conn</a>) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;U&gt;&gt;
       <span class="where">where Self: <a class="trait" href="../query_dsl/methods/trait.LoadQuery.html" title="trait diesel::query_dsl::methods::LoadQuery">LoadQuery</a>&lt;'query, Conn, U&gt;</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.first" class="fn">first</a>&lt;'query, U&gt;(self, conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut Conn</a>) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;U&gt;
       <span class="where">where Self: <a class="trait" href="../query_dsl/methods/trait.LimitDsl.html" title="trait diesel::query_dsl::methods::LimitDsl">LimitDsl</a>,
             <a class="type" href="../dsl/type.Limit.html" title="type diesel::dsl::Limit">Limit</a>&lt;Self&gt;: <a class="trait" href="../query_dsl/methods/trait.LoadQuery.html" title="trait diesel::query_dsl::methods::LoadQuery">LoadQuery</a>&lt;'query, Conn, U&gt;</span> { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Methods used to execute queries.</p>
</div></details><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.execute" class="method"><a class="src rightside" href="../../src/diesel/query_dsl/mod.rs.html#1478-1484">Source</a><h4 class="code-header">fn <a href="#method.execute" class="fn">execute</a>(self, conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut Conn</a>) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;<div class="where">where
    Conn: <a class="trait" href="../connection/trait.Connection.html" title="trait diesel::connection::Connection">Connection</a>,
    Self: <a class="trait" href="../query_dsl/methods/trait.ExecuteDsl.html" title="trait diesel::query_dsl::methods::ExecuteDsl">ExecuteDsl</a>&lt;Conn&gt;,</div></h4></section></summary><div class="docblock"><p>Executes the given command, returning the number of rows affected.</p>
<p><code>execute</code> is usually used in conjunction with <a href="../fn.insert_into.html" title="fn diesel::insert_into"><code>insert_into</code></a>,
<a href="../fn.update.html" title="fn diesel::update"><code>update</code></a> and <a href="../fn.delete.html" title="fn diesel::delete"><code>delete</code></a> where the number of
affected rows is often enough information.</p>
<p>When asking the database to return data from a query, <a href="../query_dsl/trait.RunQueryDsl.html#method.load" title="method diesel::query_dsl::RunQueryDsl::load"><code>load</code></a> should
probably be used instead.</p>
<h5 id="example"><a class="doc-anchor" href="#example">§</a>Example</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>inserted_rows = insert_into(users)
    .values(name.eq(<span class="string">"Ruby"</span>))
    .execute(connection)<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(<span class="number">1</span>, inserted_rows);

<span class="kw">let </span>inserted_rows = insert_into(users)
    .values(<span class="kw-2">&amp;</span><span class="macro">vec!</span>[name.eq(<span class="string">"Jim"</span>), name.eq(<span class="string">"James"</span>)])
    .execute(connection)<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(<span class="number">2</span>, inserted_rows);</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.load" class="method"><a class="src rightside" href="../../src/diesel/query_dsl/mod.rs.html#1590-1595">Source</a><h4 class="code-header">fn <a href="#method.load" class="fn">load</a>&lt;'query, U&gt;(self, conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut Conn</a>) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;U&gt;&gt;<div class="where">where
    Self: <a class="trait" href="../query_dsl/methods/trait.LoadQuery.html" title="trait diesel::query_dsl::methods::LoadQuery">LoadQuery</a>&lt;'query, Conn, U&gt;,</div></h4></section></summary><div class="docblock"><p>Executes the given query, returning a <a href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec"><code>Vec</code></a> with the returned rows.</p>
<p>When using the query builder, the return type can be
a tuple of the values, or a struct which implements <a href="../deserialize/trait.Queryable.html" title="trait diesel::deserialize::Queryable"><code>Queryable</code></a>.</p>
<p>When this method is called on <a href="../fn.sql_query.html" title="fn diesel::sql_query"><code>sql_query</code></a>,
the return type can only be a struct which implements <a href="../deserialize/trait.QueryableByName.html" title="trait diesel::deserialize::QueryableByName"><code>QueryableByName</code></a></p>
<p>For insert, update, and delete operations where only a count of affected is needed,
<a href="../query_dsl/trait.RunQueryDsl.html#method.execute" title="method diesel::query_dsl::RunQueryDsl::execute"><code>execute</code></a> should be used instead.</p>
<h6 id="how-to-resolve-compiler-errors-while-loading-data-from-the-database"><a class="doc-anchor" href="#how-to-resolve-compiler-errors-while-loading-data-from-the-database">§</a>How to resolve compiler errors while loading data from the database</h6>
<p>In case you getting uncomprehensable compiler errors while loading data
from the database into a type using <a href="../deserialize/derive.Queryable.html" title="derive diesel::deserialize::Queryable"><code>#[derive(Queryable)]</code></a>
you might want to consider
using  <a href="../expression/derive.Selectable.html" title="derive diesel::expression::Selectable"><code>#[derive(Selectable)]</code></a> +
<code>#[diesel(check_for_backend(YourBackendType))]</code>
to check for mismatching fields at compile time. This drastically improves
the quality of the generated error messages by pointing to concrete type mismatches at
field level.You need to specify the concrete database backend
this specific struct is indented to be used with, as otherwise rustc cannot correctly
identify the required deserialization implementation.</p>
<h5 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h5><h6 id="returning-a-single-field"><a class="doc-anchor" href="#returning-a-single-field">§</a>Returning a single field</h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>data = users.select(name).load::&lt;String&gt;(connection)<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(<span class="macro">vec!</span>[<span class="string">"Sean"</span>, <span class="string">"Tess"</span>], data);</code></pre></div><h6 id="returning-a-tuple"><a class="doc-anchor" href="#returning-a-tuple">§</a>Returning a tuple</h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>data = users.load::&lt;(i32, String)&gt;(connection)<span class="question-mark">?</span>;
<span class="kw">let </span>expected_data = <span class="macro">vec!</span>[(<span class="number">1</span>, String::from(<span class="string">"Sean"</span>)), (<span class="number">2</span>, String::from(<span class="string">"Tess"</span>))];
<span class="macro">assert_eq!</span>(expected_data, data);</code></pre></div><h6 id="returning-a-struct"><a class="doc-anchor" href="#returning-a-struct">§</a>Returning a struct</h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attr">#[derive(Queryable, PartialEq, Debug)]
</span><span class="kw">struct </span>User {
    id: i32,
    name: String,
}

<span class="kw">let </span>data = users.load::&lt;User&gt;(connection)<span class="question-mark">?</span>;
<span class="kw">let </span>expected_data = <span class="macro">vec!</span>[
    User {
        id: <span class="number">1</span>,
        name: String::from(<span class="string">"Sean"</span>),
    },
    User {
        id: <span class="number">2</span>,
        name: String::from(<span class="string">"Tess"</span>),
    },
];
<span class="macro">assert_eq!</span>(expected_data, data);</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.load_iter" class="method"><a class="src rightside" href="../../src/diesel/query_dsl/mod.rs.html#1718-1727">Source</a><h4 class="code-header">fn <a href="#method.load_iter" class="fn">load_iter</a>&lt;'conn, 'query: 'conn, U, B&gt;(
    self,
    conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'conn mut Conn</a>,
) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;Self::<a class="associatedtype" href="../query_dsl/methods/trait.LoadQuery.html#associatedtype.RowIter" title="type diesel::query_dsl::methods::LoadQuery::RowIter">RowIter</a>&lt;'conn&gt;&gt;<div class="where">where
    U: 'conn,
    Self: <a class="trait" href="../query_dsl/methods/trait.LoadQuery.html" title="trait diesel::query_dsl::methods::LoadQuery">LoadQuery</a>&lt;'query, Conn, U, B&gt; + 'conn,</div></h4></section></summary><div class="docblock"><p>Executes the given query, returning an <a href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator"><code>Iterator</code></a> with the returned rows.</p>
<p>The iterator’s item is <a href="../result/type.QueryResult.html" title="type diesel::result::QueryResult"><code>QueryResult&lt;U&gt;</code></a>.</p>
<p>You should normally prefer to use <a href="../query_dsl/trait.RunQueryDsl.html#method.load" title="method diesel::query_dsl::RunQueryDsl::load"><code>RunQueryDsl::load</code></a> instead. This method
is provided for situations where the result needs to be collected into a different
container than a <a href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec"><code>Vec</code></a></p>
<p>When using the query builder, the return type can be
a tuple of the values, or a struct which implements <a href="../deserialize/trait.Queryable.html" title="trait diesel::deserialize::Queryable"><code>Queryable</code></a>.
This type is specified by the first generic type of this function.</p>
<p>The second generic type parameter specifies the so called loading mode,
which describes how the connection implementation loads data from the database.
All connections should provide a implementation for
<a href="../connection/struct.DefaultLoadingMode.html" title="struct diesel::connection::DefaultLoadingMode"><code>DefaultLoadingMode</code></a>.</p>
<p>They may provide additional modes. Checkout the documentation of the concrete
connection types for details. For connection implementations that provide
more than one loading mode it is <strong>required</strong> to specify this generic parameter.
This is currently true for <code>PgConnection</code>.</p>
<p>When this method is called on <a href="../fn.sql_query.html" title="fn diesel::sql_query"><code>sql_query</code></a>,
the return type can only be a struct which implements <a href="../deserialize/trait.QueryableByName.html" title="trait diesel::deserialize::QueryableByName"><code>QueryableByName</code></a></p>
<p>For insert, update, and delete operations where only a count of affected is needed,
<a href="../query_dsl/trait.RunQueryDsl.html#method.execute" title="method diesel::query_dsl::RunQueryDsl::execute"><code>execute</code></a> should be used instead.</p>
<h5 id="examples-1"><a class="doc-anchor" href="#examples-1">§</a>Examples</h5><h6 id="returning-a-single-field-1"><a class="doc-anchor" href="#returning-a-single-field-1">§</a>Returning a single field</h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>diesel::connection::DefaultLoadingMode;

<span class="kw">let </span>data = users
    .select(name)
    .load_iter::&lt;String, DefaultLoadingMode&gt;(connection)<span class="question-mark">?
    </span>.collect::&lt;QueryResult&lt;Vec&lt;<span class="kw">_</span>&gt;&gt;&gt;()<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(<span class="macro">vec!</span>[<span class="string">"Sean"</span>, <span class="string">"Tess"</span>], data);</code></pre></div><h6 id="returning-a-tuple-1"><a class="doc-anchor" href="#returning-a-tuple-1">§</a>Returning a tuple</h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>diesel::connection::DefaultLoadingMode;

<span class="kw">let </span>data = users
    .load_iter::&lt;(i32, String), DefaultLoadingMode&gt;(connection)<span class="question-mark">?
    </span>.collect::&lt;QueryResult&lt;Vec&lt;<span class="kw">_</span>&gt;&gt;&gt;()<span class="question-mark">?</span>;
<span class="kw">let </span>expected_data = <span class="macro">vec!</span>[(<span class="number">1</span>, String::from(<span class="string">"Sean"</span>)), (<span class="number">2</span>, String::from(<span class="string">"Tess"</span>))];
<span class="macro">assert_eq!</span>(expected_data, data);</code></pre></div><h6 id="returning-a-struct-1"><a class="doc-anchor" href="#returning-a-struct-1">§</a>Returning a struct</h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attr">#[derive(Queryable, PartialEq, Debug)]
</span><span class="kw">struct </span>User {
    id: i32,
    name: String,
}

<span class="kw">use </span>diesel::connection::DefaultLoadingMode;

<span class="kw">let </span>data = users
    .load_iter::&lt;User, DefaultLoadingMode&gt;(connection)<span class="question-mark">?
    </span>.collect::&lt;QueryResult&lt;Vec&lt;<span class="kw">_</span>&gt;&gt;&gt;()<span class="question-mark">?</span>;
<span class="kw">let </span>expected_data = <span class="macro">vec!</span>[
    User {
        id: <span class="number">1</span>,
        name: String::from(<span class="string">"Sean"</span>),
    },
    User {
        id: <span class="number">2</span>,
        name: String::from(<span class="string">"Tess"</span>),
    },
];
<span class="macro">assert_eq!</span>(expected_data, data);</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.get_result" class="method"><a class="src rightside" href="../../src/diesel/query_dsl/mod.rs.html#1774-1782">Source</a><h4 class="code-header">fn <a href="#method.get_result" class="fn">get_result</a>&lt;'query, U&gt;(self, conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut Conn</a>) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;U&gt;<div class="where">where
    Self: <a class="trait" href="../query_dsl/methods/trait.LoadQuery.html" title="trait diesel::query_dsl::methods::LoadQuery">LoadQuery</a>&lt;'query, Conn, U&gt;,</div></h4></section></summary><div class="docblock"><p>Runs the command, and returns the affected row.</p>
<p><code>Err(NotFound)</code> will be returned if the query affected 0 rows. You can
call <code>.optional()</code> on the result of this if the command was optional to
get back a <code>Result&lt;Option&lt;U&gt;&gt;</code></p>
<p>When this method is called on an insert, update, or delete statement,
it will implicitly add a <code>RETURNING *</code> to the query,
unless a returning clause was already specified.</p>
<p>This method only returns the first row that was affected, even if more
rows are affected.</p>
<h5 id="example-1"><a class="doc-anchor" href="#example-1">§</a>Example</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>inserted_row = insert_into(users)
    .values(name.eq(<span class="string">"Ruby"</span>))
    .get_result(connection)<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>((<span class="number">3</span>, String::from(<span class="string">"Ruby"</span>)), inserted_row);

<span class="comment">// This will return `NotFound`, as there is no user with ID 4
</span><span class="kw">let </span>update_result = update(users.find(<span class="number">4</span>))
    .set(name.eq(<span class="string">"Jim"</span>))
    .get_result::&lt;(i32, String)&gt;(connection);
<span class="macro">assert_eq!</span>(<span class="prelude-val">Err</span>(diesel::NotFound), update_result);</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.get_results" class="method"><a class="src rightside" href="../../src/diesel/query_dsl/mod.rs.html#1790-1795">Source</a><h4 class="code-header">fn <a href="#method.get_results" class="fn">get_results</a>&lt;'query, U&gt;(self, conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut Conn</a>) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;U&gt;&gt;<div class="where">where
    Self: <a class="trait" href="../query_dsl/methods/trait.LoadQuery.html" title="trait diesel::query_dsl::methods::LoadQuery">LoadQuery</a>&lt;'query, Conn, U&gt;,</div></h4></section></summary><div class="docblock"><p>Runs the command, returning an <code>Vec</code> with the affected rows.</p>
<p>This method is an alias for <a href="../query_dsl/trait.RunQueryDsl.html#method.load" title="method diesel::query_dsl::RunQueryDsl::load"><code>load</code></a>, but with a name that makes more
sense for insert, update, and delete statements.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.first" class="method"><a class="src rightside" href="../../src/diesel/query_dsl/mod.rs.html#1830-1836">Source</a><h4 class="code-header">fn <a href="#method.first" class="fn">first</a>&lt;'query, U&gt;(self, conn: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut Conn</a>) -&gt; <a class="type" href="../result/type.QueryResult.html" title="type diesel::result::QueryResult">QueryResult</a>&lt;U&gt;<div class="where">where
    Self: <a class="trait" href="../query_dsl/methods/trait.LimitDsl.html" title="trait diesel::query_dsl::methods::LimitDsl">LimitDsl</a>,
    <a class="type" href="../dsl/type.Limit.html" title="type diesel::dsl::Limit">Limit</a>&lt;Self&gt;: <a class="trait" href="../query_dsl/methods/trait.LoadQuery.html" title="trait diesel::query_dsl::methods::LoadQuery">LoadQuery</a>&lt;'query, Conn, U&gt;,</div></h4></section></summary><div class="docblock"><p>Attempts to load a single record.</p>
<p>This method is equivalent to <code>.limit(1).get_result()</code></p>
<p>Returns <code>Ok(record)</code> if found, and <code>Err(NotFound)</code> if no results are
returned. If the query truly is optional, you can call <code>.optional()</code> on
the result of this to get a <code>Result&lt;Option&lt;U&gt;&gt;</code>.</p>
<h5 id="example-2"><a class="doc-anchor" href="#example-2">§</a>Example:</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code>diesel::insert_into(users)
    .values(<span class="kw-2">&amp;</span><span class="macro">vec!</span>[name.eq(<span class="string">"Sean"</span>), name.eq(<span class="string">"Pascal"</span>)])
    .execute(connection)<span class="question-mark">?</span>;

<span class="kw">let </span>first_name = users.order(id).select(name).first(connection);
<span class="macro">assert_eq!</span>(<span class="prelude-val">Ok</span>(String::from(<span class="string">"Sean"</span>)), first_name);

<span class="kw">let </span>not_found = users
    .filter(name.eq(<span class="string">"Foo"</span>))
    .first::&lt;(i32, String)&gt;(connection);
<span class="macro">assert_eq!</span>(<span class="prelude-val">Err</span>(diesel::NotFound), not_found);</code></pre></div></div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="foreign-impls" class="section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">§</a></h2><section id="impl-RunQueryDsl%3CSqliteConnection%3E-for-(O,+InsertStatement%3CT,+OnConflictValues%3CBatchInsert%3CVec%3CValuesClause%3CV,+T%3E%3E,+T,+QId,+STATIC_QUERY_ID%3E,+Target,+ConflictOpt%3E,+Op%3E)" class="impl"><a class="src rightside" href="../../src/diesel/query_builder/insert_statement/insert_with_default_for_sqlite.rs.html#336-364">Source</a><a href="#impl-RunQueryDsl%3CSqliteConnection%3E-for-(O,+InsertStatement%3CT,+OnConflictValues%3CBatchInsert%3CVec%3CValuesClause%3CV,+T%3E%3E,+T,+QId,+STATIC_QUERY_ID%3E,+Target,+ConflictOpt%3E,+Op%3E)" class="anchor">§</a><h3 class="code-header">impl&lt;V, T, QId, Op, O, Target, ConflictOpt, const STATIC_QUERY_ID: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;<a class="struct" href="../sqlite/struct.SqliteConnection.html" title="struct diesel::sqlite::SqliteConnection">SqliteConnection</a>&gt; for (O, <a class="struct" href="../query_builder/struct.InsertStatement.html" title="struct diesel::query_builder::InsertStatement">InsertStatement</a>&lt;T, OnConflictValues&lt;<a class="struct" href="../query_builder/struct.BatchInsert.html" title="struct diesel::query_builder::BatchInsert">BatchInsert</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../query_builder/struct.ValuesClause.html" title="struct diesel::query_builder::ValuesClause">ValuesClause</a>&lt;V, T&gt;&gt;, T, QId, STATIC_QUERY_ID&gt;, Target, ConflictOpt&gt;, Op&gt;)<div class="where">where
    T: <a class="trait" href="../query_source/trait.QuerySource.html" title="trait diesel::query_source::QuerySource">QuerySource</a>,
    V: ContainsDefaultableValue&lt;Out = O&gt;,
    O: <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a>,
    <a class="struct" href="../query_builder/struct.InsertStatement.html" title="struct diesel::query_builder::InsertStatement">InsertStatement</a>&lt;T, OnConflictValues&lt;<a class="struct" href="../query_builder/struct.BatchInsert.html" title="struct diesel::query_builder::BatchInsert">BatchInsert</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../query_builder/struct.ValuesClause.html" title="struct diesel::query_builder::ValuesClause">ValuesClause</a>&lt;V, T&gt;&gt;, T, QId, STATIC_QUERY_ID&gt;, Target, ConflictOpt&gt;, Op&gt;: <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;<a class="struct" href="../sqlite/struct.SqliteConnection.html" title="struct diesel::sqlite::SqliteConnection">SqliteConnection</a>&gt;,</div></h3><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>sqlite</code></strong> only.</div></span></section><section id="impl-RunQueryDsl%3CSqliteConnection%3E-for-(O,+InsertStatement%3CT,+BatchInsert%3CVec%3CValuesClause%3CV,+T%3E%3E,+T,+QId,+STATIC_QUERY_ID%3E,+Op%3E)" class="impl"><a class="src rightside" href="../../src/diesel/query_builder/insert_statement/insert_with_default_for_sqlite.rs.html#322-334">Source</a><a href="#impl-RunQueryDsl%3CSqliteConnection%3E-for-(O,+InsertStatement%3CT,+BatchInsert%3CVec%3CValuesClause%3CV,+T%3E%3E,+T,+QId,+STATIC_QUERY_ID%3E,+Op%3E)" class="anchor">§</a><h3 class="code-header">impl&lt;V, T, QId, Op, O, const STATIC_QUERY_ID: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;<a class="struct" href="../sqlite/struct.SqliteConnection.html" title="struct diesel::sqlite::SqliteConnection">SqliteConnection</a>&gt; for (O, <a class="struct" href="../query_builder/struct.InsertStatement.html" title="struct diesel::query_builder::InsertStatement">InsertStatement</a>&lt;T, <a class="struct" href="../query_builder/struct.BatchInsert.html" title="struct diesel::query_builder::BatchInsert">BatchInsert</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../query_builder/struct.ValuesClause.html" title="struct diesel::query_builder::ValuesClause">ValuesClause</a>&lt;V, T&gt;&gt;, T, QId, STATIC_QUERY_ID&gt;, Op&gt;)<div class="where">where
    T: <a class="trait" href="../query_source/trait.QuerySource.html" title="trait diesel::query_source::QuerySource">QuerySource</a>,
    V: ContainsDefaultableValue&lt;Out = O&gt;,
    O: <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a>,
    <a class="struct" href="../query_builder/struct.InsertStatement.html" title="struct diesel::query_builder::InsertStatement">InsertStatement</a>&lt;T, <a class="struct" href="../query_builder/struct.BatchInsert.html" title="struct diesel::query_builder::BatchInsert">BatchInsert</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../query_builder/struct.ValuesClause.html" title="struct diesel::query_builder::ValuesClause">ValuesClause</a>&lt;V, T&gt;&gt;, T, QId, STATIC_QUERY_ID&gt;, Op&gt;: <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;<a class="struct" href="../sqlite/struct.SqliteConnection.html" title="struct diesel::sqlite::SqliteConnection">SqliteConnection</a>&gt;,</div></h3><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>sqlite</code></strong> only.</div></span></section><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-RunQueryDsl%3CConn%3E-for-BoxedSqlQuery%3C'_,+%3CConn+as+Connection%3E::Backend,+Query%3E" class="impl"><a class="src rightside" href="../../src/diesel/query_builder/sql_query.rs.html#395">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-BoxedSqlQuery%3C'_,+%3CConn+as+Connection%3E::Backend,+Query%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Conn: <a class="trait" href="../connection/trait.Connection.html" title="trait diesel::connection::Connection">Connection</a>, Query&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for <a class="struct" href="../query_builder/struct.BoxedSqlQuery.html" title="struct diesel::query_builder::BoxedSqlQuery">BoxedSqlQuery</a>&lt;'_, Conn::<a class="associatedtype" href="../connection/trait.Connection.html#associatedtype.Backend" title="type diesel::connection::Connection::Backend">Backend</a>, Query&gt;</h3></section><section id="impl-RunQueryDsl%3CConn%3E-for-SelectStatement%3CF,+S,+D,+W,+O,+LOf,+G,+H,+LC%3E" class="impl"><a class="src rightside" href="../../src/diesel/query_builder/select_statement/dsl_impls.rs.html#578-581">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-SelectStatement%3CF,+S,+D,+W,+O,+LOf,+G,+H,+LC%3E" class="anchor">§</a><h3 class="code-header">impl&lt;F, S, D, W, O, LOf, G, H, LC, Conn&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for <a class="struct" href="../query_builder/struct.SelectStatement.html" title="struct diesel::query_builder::SelectStatement">SelectStatement</a>&lt;F, S, D, W, O, LOf, G, H, LC&gt;</h3></section><section id="impl-RunQueryDsl%3CConn%3E-for-SqlQuery%3CInner%3E" class="impl"><a class="src rightside" href="../../src/diesel/query_builder/sql_query.rs.html#183">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-SqlQuery%3CInner%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Inner, Conn&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for <a class="struct" href="../query_builder/struct.SqlQuery.html" title="struct diesel::query_builder::SqlQuery">SqlQuery</a>&lt;Inner&gt;</h3></section><section id="impl-RunQueryDsl%3CConn%3E-for-UncheckedBind%3CQuery,+Value%3E" class="impl"><a class="src rightside" href="../../src/diesel/expression/sql_literal.rs.html#369">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-UncheckedBind%3CQuery,+Value%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Query, Value, Conn&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for <a class="struct" href="../expression/struct.UncheckedBind.html" title="struct diesel::expression::UncheckedBind">UncheckedBind</a>&lt;Query, Value&gt;</h3></section><section id="impl-RunQueryDsl%3CConn%3E-for-Alias%3CS%3E" class="impl"><a class="src rightside" href="../../src/diesel/query_source/aliasing/dsl_impls.rs.html#231">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-Alias%3CS%3E" class="anchor">§</a><h3 class="code-header">impl&lt;S: <a class="trait" href="../query_source/trait.AliasSource.html" title="trait diesel::query_source::AliasSource">AliasSource</a>, Conn&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for <a class="struct" href="../query_source/struct.Alias.html" title="struct diesel::query_source::Alias">Alias</a>&lt;S&gt;</h3></section><section id="impl-RunQueryDsl%3CConn%3E-for-BoxedSelectStatement%3C'_,+ST,+QS,+DB,+GB%3E" class="impl"><a class="src rightside" href="../../src/diesel/query_builder/select_statement/boxed.rs.html#456">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-BoxedSelectStatement%3C'_,+ST,+QS,+DB,+GB%3E" class="anchor">§</a><h3 class="code-header">impl&lt;ST, QS, DB, Conn, GB&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for <a class="struct" href="../query_builder/struct.BoxedSelectStatement.html" title="struct diesel::query_builder::BoxedSelectStatement">BoxedSelectStatement</a>&lt;'_, ST, QS, DB, GB&gt;</h3></section><section id="impl-RunQueryDsl%3CConn%3E-for-SqlLiteral%3CST,+T%3E" class="impl"><a class="src rightside" href="../../src/diesel/expression/sql_literal.rs.html#187">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-SqlLiteral%3CST,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;ST, T, Conn&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for <a class="struct" href="../expression/struct.SqlLiteral.html" title="struct diesel::expression::SqlLiteral">SqlLiteral</a>&lt;ST, T&gt;</h3></section><section id="impl-RunQueryDsl%3CConn%3E-for-T" class="impl"><a class="src rightside" href="../../src/diesel/query_dsl/mod.rs.html#1845">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, Conn&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for T<div class="where">where
    T: <a class="trait" href="../query_source/trait.Table.html" title="trait diesel::query_source::Table">Table</a>,</div></h3></section><section id="impl-RunQueryDsl%3CConn%3E-for-DeleteStatement%3CT,+U,+Ret%3E" class="impl"><a class="src rightside" href="../../src/diesel/query_builder/delete_statement/mod.rs.html#291">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-DeleteStatement%3CT,+U,+Ret%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T, U, Ret, Conn&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for <a class="struct" href="../query_builder/struct.DeleteStatement.html" title="struct diesel::query_builder::DeleteStatement">DeleteStatement</a>&lt;T, U, Ret&gt;<div class="where">where
    T: <a class="trait" href="../query_source/trait.QuerySource.html" title="trait diesel::query_source::QuerySource">QuerySource</a>,</div></h3></section><section id="impl-RunQueryDsl%3CConn%3E-for-InsertStatement%3CT,+U,+Op,+Ret%3E" class="impl"><a class="src rightside" href="../../src/diesel/query_builder/insert_statement/mod.rs.html#274">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-InsertStatement%3CT,+U,+Op,+Ret%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="../query_source/trait.QuerySource.html" title="trait diesel::query_source::QuerySource">QuerySource</a>, U, Op, Ret, Conn&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for <a class="struct" href="../query_builder/struct.InsertStatement.html" title="struct diesel::query_builder::InsertStatement">InsertStatement</a>&lt;T, U, Op, Ret&gt;</h3></section><section id="impl-RunQueryDsl%3CConn%3E-for-UpdateStatement%3CT,+U,+V,+Ret%3E" class="impl"><a class="src rightside" href="../../src/diesel/query_builder/update_statement/mod.rs.html#248">Source</a><a href="#impl-RunQueryDsl%3CConn%3E-for-UpdateStatement%3CT,+U,+V,+Ret%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="../query_source/trait.QuerySource.html" title="trait diesel::query_source::QuerySource">QuerySource</a>, U, V, Ret, Conn&gt; <a class="trait" href="../query_dsl/trait.RunQueryDsl.html" title="trait diesel::query_dsl::RunQueryDsl">RunQueryDsl</a>&lt;Conn&gt; for <a class="struct" href="../query_builder/struct.UpdateStatement.html" title="struct diesel::query_builder::UpdateStatement">UpdateStatement</a>&lt;T, U, V, Ret&gt;</h3></section></div><script src="../../trait.impl/diesel/query_dsl/trait.RunQueryDsl.js" data-ignore-extern-crates="std" async></script></section></div></main></body></html>