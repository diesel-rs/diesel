<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The `json_object()` SQL function accepts zero or more pairs of arguments and returns a well-formed JSON object composed from those pairs. The first argument of each pair is the label (key) and the second argument is the value. If any argument to `json_object()` is a BLOB then an error is thrown."><title>json_object_1 in diesel::sqlite::expression::dsl - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-b7b9f40b.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="diesel" data-themes="" data-resource-suffix="" data-rustdoc-version="1.95.0-nightly (842bd5be2 2026-01-29)" data-channel="nightly" data-search-js="search-fb33671b.js" data-stringdex-js="stringdex-b897f86f.js" data-settings-js="settings-170eb4bf.js" ><script src="../../../../static.files/storage-f9617a14.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../static.files/main-12f88f4f.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-f7c3ffd8.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><a class="skip-main-content" href="#main-content">Skip to main content</a><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">json_object_1</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../diesel/index.html">diesel</a><span class="version">2.3.6</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">json_<wbr>object_<wbr>1</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#examples" title="Examples">Examples</a></li><li><a href="#variadic-functions" title="Variadic functions">Variadic functions</a><ul><li><a href="#controlling-the-generation-of-variadic-function-variants" title="Controlling the generation of variadic function variants">Controlling the generation of variadic function variants</a></li></ul></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In diesel::<wbr>sqlite::<wbr>expression::<wbr>dsl</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content" tabindex="-1"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../index.html">diesel</a>::<wbr><a href="../../index.html">sqlite</a>::<wbr><a href="../index.html">expression</a>::<wbr><a href="index.html">dsl</a></div><h1>Function <span class="fn">json_<wbr>object_<wbr>1</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../src/diesel/sqlite/expression/functions.rs.html#16">Source</a> </span></div><pre class="rust item-decl"><code>pub fn json_object_1&lt;K1: NotBlob&lt;IsNull = <a class="struct" href="../../../sql_types/is_nullable/struct.NotNull.html" title="struct diesel::sql_types::is_nullable::NotNull">NotNull</a>&gt;, V1: NotBlob, key_1, value_1&gt;(
    key_1: key_1,
    value_1: value_1,
) -&gt; <a class="type" href="../functions/type.json_object_1.html" title="type diesel::sqlite::expression::functions::json_object_1">json_object_1</a>&lt;K1, V1, key_1, value_1&gt;<div class="where">where
    key_1: <a class="trait" href="../../../expression/trait.AsExpression.html" title="trait diesel::expression::AsExpression">AsExpression</a>&lt;K1&gt;,
    value_1: <a class="trait" href="../../../expression/trait.AsExpression.html" title="trait diesel::expression::AsExpression">AsExpression</a>&lt;V1&gt;,</div></code></pre><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>__sqlite-shared</code></strong> only.</div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The <code>json_object()</code> SQL function accepts zero or more pairs of arguments and returns a
well-formed JSON object composed from those pairs. The first argument of each pair is the
label (key) and the second argument is the value. If any argument to <code>json_object()</code> is a
BLOB then an error is thrown.</p>
<p>An argument with SQL type TEXT is normally converted into a quoted JSON string even if the
input text is well-formed JSON. However, if the argument is the direct result from another
JSON function, then it is treated as JSON and all of its JSON type information and
substructure is preserved. This allows calls to <code>json_object()</code> and <code>json_array()</code> to be
nested. The <a href="../functions/fn.json.html" title="fn diesel::sqlite::expression::functions::json"><code>json()</code></a> function can also be used to force strings to be recognized as JSON.</p>
<p>This function requires at least SQLite 3.38 or newer</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>result = diesel::select(json_object_0()).get_result::&lt;serde_json::Value&gt;(connection)<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(<span class="macro">json!</span>({}), result);

<span class="kw">let </span>result = diesel::select(json_object_1::&lt;Text, Integer, <span class="kw">_</span>, <span class="kw">_</span>&gt;(<span class="string">"a"</span>, <span class="number">2</span>))
    .get_result::&lt;serde_json::Value&gt;(connection)<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(<span class="macro">json!</span>({<span class="string">"a"</span>: <span class="number">2</span>}), result);

<span class="kw">let </span>result = diesel::select(
    json_object_2::&lt;Text, Integer, Text, Text, <span class="kw">_</span>, <span class="kw">_</span>, <span class="kw">_</span>, <span class="kw">_</span>&gt;(<span class="string">"a"</span>, <span class="number">2</span>, <span class="string">"c"</span>, <span class="string">"{e:5}"</span>)
)
.get_result::&lt;serde_json::Value&gt;(connection)<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(<span class="macro">json!</span>({<span class="string">"a"</span>: <span class="number">2</span>, <span class="string">"c"</span>: <span class="string">"{e:5}"</span>}), result);

<span class="kw">let </span>result = diesel::select(
    json_object_2::&lt;Text, Integer, Text, Json, <span class="kw">_</span>, <span class="kw">_</span>, <span class="kw">_</span>, <span class="kw">_</span>&gt;(<span class="string">"a"</span>, <span class="number">2</span>, <span class="string">"c"</span>, json_object_1::&lt;Text, Integer, <span class="kw">_</span>, <span class="kw">_</span>&gt;(<span class="string">"e"</span>, <span class="number">5</span>))
)
.get_result::&lt;serde_json::Value&gt;(connection)<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(<span class="macro">json!</span>({<span class="string">"a"</span>: <span class="number">2</span>, <span class="string">"c"</span>: {<span class="string">"e"</span>: <span class="number">5</span>}}), result);</code></pre></div><h2 id="variadic-functions"><a class="doc-anchor" href="#variadic-functions">§</a>Variadic functions</h2>
<p>This function is variadic in SQL, so there’s a family of functions
on a diesel side:</p>
<p><code>json_object_0</code>, <code>json_object_1</code>, … <code>json_object_n</code></p>
<p>Here, the postfix number indicates repetitions of variadic arguments.
To use this function, the appropriate version with the correct
argument count must be selected.</p>
<h3 id="controlling-the-generation-of-variadic-function-variants"><a class="doc-anchor" href="#controlling-the-generation-of-variadic-function-variants">§</a>Controlling the generation of variadic function variants</h3>
<p>By default, only variants with 0, 1, and 2 repetitions of variadic
arguments are generated. To generate more variants, set the
<code>DIESEL_VARIADIC_FUNCTION_ARGS</code> environment variable to the desired
number of variants.</p>
<p>For a greater convenience this environment variable can also be set
in a <code>.cargo/config.toml</code> file as described in the
<a href="https://doc.rust-lang.org/cargo/reference/config.html#env">cargo documentation</a>.</p>
</div></details></section></div></main></body></html>