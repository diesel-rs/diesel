<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The result of mapping a local time to a concrete instant in a given time zone."><title>MappedLocalTime in chrono::offset - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-081576b923113409.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="chrono" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0-nightly (e3181b091 2024-04-18)" data-channel="nightly" data-search-js="search-5b46ae87cc198d72.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-e32f0c247825364d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-09095024cf37855e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../chrono/index.html">chrono</a><span class="version">0.4.38</span></h2></div><h2 class="location"><a href="#">MappedLocalTime</a></h2><div class="sidebar-elems"><section><h3><a href="#aliased-type">Aliased type</a></h3><h3><a href="#variants">Variants</a></h3><ul class="block variant"><li><a href="#variant.Ambiguous">Ambiguous</a></li><li><a href="#variant.None">None</a></li><li><a href="#variant.Single">Single</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.and_hms_micro_opt">and_hms_micro_opt</a></li><li><a href="#method.and_hms_milli_opt">and_hms_milli_opt</a></li><li><a href="#method.and_hms_nano_opt">and_hms_nano_opt</a></li><li><a href="#method.and_hms_opt">and_hms_opt</a></li><li><a href="#method.and_time">and_time</a></li><li><a href="#method.earliest">earliest</a></li><li><a href="#method.latest">latest</a></li><li><a href="#method.map">map</a></li><li><a href="#method.single">single</a></li><li><a href="#method.unwrap">unwrap</a></li></ul></section><h2><a href="index.html">In chrono::offset</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../chrono/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Type ‘S’ or ‘/’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings">Settings</a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Type Alias <a href="../index.html">chrono</a>::<wbr><a href="index.html">offset</a>::<wbr><a class="type" href="#">MappedLocalTime</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/chrono/offset/mod.rs.html#57">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub type MappedLocalTime&lt;T&gt; = <a class="enum" href="enum.LocalResult.html" title="enum chrono::offset::LocalResult">LocalResult</a>&lt;T&gt;;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The result of mapping a local time to a concrete instant in a given time zone.</p>
<p>The calculation to go from a local time (wall clock time) to an instant in UTC can end up in
three cases:</p>
<ul>
<li>A single, simple result.</li>
<li>An ambiguous result when the clock is turned backwards during a transition due to for example
DST.</li>
<li>No result when the clock is turned forwards during a transition due to for example DST.</li>
</ul>
<p>When the clock is turned backwards it creates a <em>fold</em> in local time, during which the local
time is <em>ambiguous</em>. When the clock is turned forwards it creates a <em>gap</em> in local time, during
which the local time is <em>missing</em>, or does not exist.</p>
<p>Chrono does not return a default choice or invalid data during time zone transitions, but has
the <code>MappedLocalTime</code> type to help deal with the result correctly.</p>
<p>The type of <code>T</code> is usually a <a href="../struct.DateTime.html" title="struct chrono::DateTime"><code>DateTime</code></a> but may also be only an offset.</p>
</div></details><h2 id="aliased-type" class="section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>enum MappedLocalTime&lt;T&gt; {
    Single(T),
    Ambiguous(T, T),
    None,
}</code></pre><h2 id="variants" class="variants section-header">Variants<a href="#variants" class="anchor">§</a></h2><div class="variants"><section id="variant.Single" class="variant"><a href="#variant.Single" class="anchor">§</a><h3 class="code-header">Single(T)</h3></section><div class="docblock"><p>The local time maps to a single unique result.</p>
</div><section id="variant.Ambiguous" class="variant"><a href="#variant.Ambiguous" class="anchor">§</a><h3 class="code-header">Ambiguous(T, T)</h3></section><div class="docblock"><p>The local time is <em>ambiguous</em> because there is a <em>fold</em> in the local time.</p>
<p>This variant contains the two possible results, in the order <code>(earliest, latest)</code>.</p>
</div><section id="variant.None" class="variant"><a href="#variant.None" class="anchor">§</a><h3 class="code-header">None</h3></section><div class="docblock"><p>The local time does not exist because there is a <em>gap</em> in the local time.</p>
<p>This variant may also be returned if there was an error while resolving the local time,
caused by for example missing time zone data files, an error in an OS API, or overflow.</p>
</div></div><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-LocalResult%3CT%3E" class="impl"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#77-145">source</a><a href="#impl-LocalResult%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="type" href="type.MappedLocalTime.html" title="type chrono::offset::MappedLocalTime">MappedLocalTime</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.single" class="method"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#85-90">source</a><h4 class="code-header">pub fn <a href="#method.single" class="fn">single</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;T&gt;</h4></section></summary><div class="docblock"><p>Returns <code>Some</code> if the time zone mapping has a single result.</p>
<h5 id="errors"><a class="doc-anchor" href="#errors">§</a>Errors</h5>
<p>Returns <code>None</code> if local time falls in a <em>fold</em> or <em>gap</em> in the local time, or if there was
an error.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.earliest" class="method"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#98-103">source</a><h4 class="code-header">pub fn <a href="#method.earliest" class="fn">earliest</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;T&gt;</h4></section></summary><div class="docblock"><p>Returns the earliest possible result of a the time zone mapping.</p>
<h5 id="errors-1"><a class="doc-anchor" href="#errors-1">§</a>Errors</h5>
<p>Returns <code>None</code> if local time falls in a <em>gap</em> in the local time, or if there was an error.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.latest" class="method"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#111-116">source</a><h4 class="code-header">pub fn <a href="#method.latest" class="fn">latest</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;T&gt;</h4></section></summary><div class="docblock"><p>Returns the latest possible result of a the time zone mapping.</p>
<h5 id="errors-2"><a class="doc-anchor" href="#errors-2">§</a>Errors</h5>
<p>Returns <code>None</code> if local time falls in a <em>gap</em> in the local time, or if there was an error.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.map" class="method"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#120-126">source</a><h4 class="code-header">pub fn <a href="#method.map" class="fn">map</a>&lt;U, F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(T) -&gt; U&gt;(self, f: F) -&gt; <a class="type" href="type.MappedLocalTime.html" title="type chrono::offset::MappedLocalTime">MappedLocalTime</a>&lt;U&gt;</h4></section></summary><div class="docblock"><p>Maps a <code>MappedLocalTime&lt;T&gt;</code> into <code>MappedLocalTime&lt;U&gt;</code> with given function.</p>
</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-LocalResult%3CDate%3CTz%3E%3E" class="impl"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#148-244">source</a><a href="#impl-LocalResult%3CDate%3CTz%3E%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Tz: <a class="trait" href="../trait.TimeZone.html" title="trait chrono::TimeZone">TimeZone</a>&gt; <a class="type" href="type.MappedLocalTime.html" title="type chrono::offset::MappedLocalTime">MappedLocalTime</a>&lt;<a class="struct" href="../struct.Date.html" title="struct chrono::Date">Date</a>&lt;Tz&gt;&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.and_time" class="method"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#155-162">source</a><h4 class="code-header">pub fn <a href="#method.and_time" class="fn">and_time</a>(self, time: <a class="struct" href="../naive/struct.NaiveTime.html" title="struct chrono::naive::NaiveTime">NaiveTime</a>) -&gt; <a class="type" href="type.MappedLocalTime.html" title="type chrono::offset::MappedLocalTime">MappedLocalTime</a>&lt;<a class="struct" href="../struct.DateTime.html" title="struct chrono::DateTime">DateTime</a>&lt;Tz&gt;&gt;</h4></section></summary><div class="docblock"><p>Makes a new <code>DateTime</code> from the current date and given <code>NaiveTime</code>.
The offset in the current date is preserved.</p>
<p>Propagates any error. Ambiguous result would be discarded.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.and_hms_opt" class="method"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#170-177">source</a><h4 class="code-header">pub fn <a href="#method.and_hms_opt" class="fn">and_hms_opt</a>(
    self,
    hour: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    min: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    sec: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>
) -&gt; <a class="type" href="type.MappedLocalTime.html" title="type chrono::offset::MappedLocalTime">MappedLocalTime</a>&lt;<a class="struct" href="../struct.DateTime.html" title="struct chrono::DateTime">DateTime</a>&lt;Tz&gt;&gt;</h4></section></summary><div class="docblock"><p>Makes a new <code>DateTime</code> from the current date, hour, minute and second.
The offset in the current date is preserved.</p>
<p>Propagates any error. Ambiguous result would be discarded.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.and_hms_milli_opt" class="method"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#186-199">source</a><h4 class="code-header">pub fn <a href="#method.and_hms_milli_opt" class="fn">and_hms_milli_opt</a>(
    self,
    hour: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    min: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    sec: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    milli: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>
) -&gt; <a class="type" href="type.MappedLocalTime.html" title="type chrono::offset::MappedLocalTime">MappedLocalTime</a>&lt;<a class="struct" href="../struct.DateTime.html" title="struct chrono::DateTime">DateTime</a>&lt;Tz&gt;&gt;</h4></section></summary><div class="docblock"><p>Makes a new <code>DateTime</code> from the current date, hour, minute, second and millisecond.
The millisecond part can exceed 1,000 in order to represent the leap second.
The offset in the current date is preserved.</p>
<p>Propagates any error. Ambiguous result would be discarded.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.and_hms_micro_opt" class="method"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#208-221">source</a><h4 class="code-header">pub fn <a href="#method.and_hms_micro_opt" class="fn">and_hms_micro_opt</a>(
    self,
    hour: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    min: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    sec: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    micro: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>
) -&gt; <a class="type" href="type.MappedLocalTime.html" title="type chrono::offset::MappedLocalTime">MappedLocalTime</a>&lt;<a class="struct" href="../struct.DateTime.html" title="struct chrono::DateTime">DateTime</a>&lt;Tz&gt;&gt;</h4></section></summary><div class="docblock"><p>Makes a new <code>DateTime</code> from the current date, hour, minute, second and microsecond.
The microsecond part can exceed 1,000,000 in order to represent the leap second.
The offset in the current date is preserved.</p>
<p>Propagates any error. Ambiguous result would be discarded.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.and_hms_nano_opt" class="method"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#230-243">source</a><h4 class="code-header">pub fn <a href="#method.and_hms_nano_opt" class="fn">and_hms_nano_opt</a>(
    self,
    hour: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    min: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    sec: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,
    nano: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>
) -&gt; <a class="type" href="type.MappedLocalTime.html" title="type chrono::offset::MappedLocalTime">MappedLocalTime</a>&lt;<a class="struct" href="../struct.DateTime.html" title="struct chrono::DateTime">DateTime</a>&lt;Tz&gt;&gt;</h4></section></summary><div class="docblock"><p>Makes a new <code>DateTime</code> from the current date, hour, minute, second and nanosecond.
The nanosecond part can exceed 1,000,000,000 in order to represent the leap second.
The offset in the current date is preserved.</p>
<p>Propagates any error. Ambiguous result would be discarded.</p>
</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-LocalResult%3CT%3E-1" class="impl"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#246-268">source</a><a href="#impl-LocalResult%3CT%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>&gt; <a class="type" href="type.MappedLocalTime.html" title="type chrono::offset::MappedLocalTime">MappedLocalTime</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.unwrap" class="method"><a class="src rightside" href="../../src/chrono/offset/mod.rs.html#259-267">source</a><h4 class="code-header">pub fn <a href="#method.unwrap" class="fn">unwrap</a>(self) -&gt; T</h4></section></summary><div class="docblock"><p>Returns a single unique conversion result or panics.</p>
<p><code>unwrap()</code> is best combined with time zone types where the mapping can never fail like
<a href="struct.Utc.html" title="struct chrono::offset::Utc"><code>Utc</code></a> and <a href="struct.FixedOffset.html" title="struct chrono::offset::FixedOffset"><code>FixedOffset</code></a>. Note that for <a href="struct.FixedOffset.html" title="struct chrono::offset::FixedOffset"><code>FixedOffset</code></a> there is a rare case where a
resulting <a href="../struct.DateTime.html" title="struct chrono::DateTime"><code>DateTime</code></a> can be out of range.</p>
<h5 id="panics"><a class="doc-anchor" href="#panics">§</a>Panics</h5>
<p>Panics if the local time falls within a <em>fold</em> or a <em>gap</em> in the local time, and on any
error that may have been returned by the type implementing <a href="../trait.TimeZone.html" title="trait chrono::TimeZone"><code>TimeZone</code></a>.</p>
</div></details></div></details></div><script src="../../type.impl/chrono/offset/enum.LocalResult.js" data-self-path="chrono::offset::MappedLocalTime" async></script></section></div></main></body></html>