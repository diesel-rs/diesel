<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Contains traits responsible for the actual construction of SQL statements"><title>diesel::query_builder - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="diesel" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.0-nightly (7908a1d65 2023-04-17)" data-search-js="search-e077946657036a58.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-7bfb4c59cc6bc502.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../../static.files/main-1a524efa7bd4ab32.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../diesel/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../diesel/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module query_builder</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li><li><a href="#derives">Derive Macros</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">diesel</a>::<wbr><a class="mod" href="#">query_builder</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/diesel/query_builder/mod.rs.html#1-415">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Contains traits responsible for the actual construction of SQL statements</p>
<p>The types in this module are part of Diesel’s public API, but are generally
only useful for implementing Diesel plugins. Applications should generally
not need to care about the types inside of this module.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.QueryId"><code>pub use self::query_id::<a class="trait" href="trait.QueryId.html" title="trait diesel::query_builder::QueryId">QueryId</a>;</code></div></li><li><div class="item-name" id="reexport.AsChangeset"><code>pub use self::update_statement::changeset::<a class="trait" href="trait.AsChangeset.html" title="trait diesel::query_builder::AsChangeset">AsChangeset</a>;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="bind_collector/index.html" title="mod diesel::query_builder::bind_collector">bind_collector</a></div><div class="desc docblock-short">Types related to managing bind parameters during query construction.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AstPass.html" title="struct diesel::query_builder::AstPass">AstPass</a></div><div class="desc docblock-short">The primary type used when walking a Diesel AST during query execution.</div></li><li><div class="item-name"><a class="struct" href="struct.AstPassToSqlOptions.html" title="struct diesel::query_builder::AstPassToSqlOptions">AstPassToSqlOptions</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This is used to pass down additional settings to the <code>AstPass</code>
when rendering the sql string.</div></li><li><div class="item-name"><a class="struct" href="struct.BatchInsert.html" title="struct diesel::query_builder::BatchInsert">BatchInsert</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a batch insert clause, which allows
to insert multiple rows at once.</div></li><li><div class="item-name"><a class="struct" href="struct.BoxedLimitOffsetClause.html" title="struct diesel::query_builder::BoxedLimitOffsetClause">BoxedLimitOffsetClause</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A boxed variant of <a href="struct.LimitOffsetClause.html" title="struct diesel::query_builder::LimitOffsetClause"><code>LimitOffsetClause</code></a></div></li><li><div class="item-name"><a class="struct" href="struct.BoxedSelectStatement.html" title="struct diesel::query_builder::BoxedSelectStatement">BoxedSelectStatement</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a boxed select query</div></li><li><div class="item-name"><a class="struct" href="struct.BoxedSqlQuery.html" title="struct diesel::query_builder::BoxedSqlQuery">BoxedSqlQuery</a></div><div class="desc docblock-short">See <a href="struct.SqlQuery.html#method.into_boxed" title="method diesel::query_builder::SqlQuery::into_boxed"><code>SqlQuery::into_boxed</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.DebugQuery.html" title="struct diesel::query_builder::DebugQuery">DebugQuery</a></div><div class="desc docblock-short">A struct that implements <code>fmt::Display</code> and <code>fmt::Debug</code> to show the SQL
representation of a query.</div></li><li><div class="item-name"><a class="struct" href="struct.DefaultValues.html" title="struct diesel::query_builder::DefaultValues">DefaultValues</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div></li><li><div class="item-name"><a class="struct" href="struct.DeleteStatement.html" title="struct diesel::query_builder::DeleteStatement">DeleteStatement</a></div><div class="desc docblock-short">Represents a SQL <code>DELETE</code> statement.</div></li><li><div class="item-name"><a class="struct" href="struct.FromClause.html" title="struct diesel::query_builder::FromClause">FromClause</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div></li><li><div class="item-name"><a class="struct" href="struct.IncompleteInsertStatement.html" title="struct diesel::query_builder::IncompleteInsertStatement">IncompleteInsertStatement</a></div><div class="desc docblock-short">The structure returned by <a href="../dsl/fn.insert_into.html" title="fn diesel::dsl::insert_into"><code>insert_into</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.InsertStatement.html" title="struct diesel::query_builder::InsertStatement">InsertStatement</a></div><div class="desc docblock-short">A fully constructed insert statement.</div></li><li><div class="item-name"><a class="struct" href="struct.LimitClause.html" title="struct diesel::query_builder::LimitClause">LimitClause</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A query node representing a limit clause</div></li><li><div class="item-name"><a class="struct" href="struct.LimitOffsetClause.html" title="struct diesel::query_builder::LimitOffsetClause">LimitOffsetClause</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A helper query node that contains both limit and offset clauses</div></li><li><div class="item-name"><a class="struct" href="struct.NoFromClause.html" title="struct diesel::query_builder::NoFromClause">NoFromClause</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a not existing from clause</div></li><li><div class="item-name"><a class="struct" href="struct.NoLimitClause.html" title="struct diesel::query_builder::NoLimitClause">NoLimitClause</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A query node indicating the absence of a limit clause</div></li><li><div class="item-name"><a class="struct" href="struct.NoOffsetClause.html" title="struct diesel::query_builder::NoOffsetClause">NoOffsetClause</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A query node indicating the absence of an offset clause</div></li><li><div class="item-name"><a class="struct" href="struct.OffsetClause.html" title="struct diesel::query_builder::OffsetClause">OffsetClause</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A query node representing an offset clause</div></li><li><div class="item-name"><a class="struct" href="struct.Only.html" title="struct diesel::query_builder::Only">Only</a><span class="stab portability" title="Available on crate feature `postgres_backend` only"><code>postgres_backend</code></span></div><div class="desc docblock-short">Represents a query with an <code>ONLY</code> clause.</div></li><li><div class="item-name"><a class="struct" href="struct.ReturningClause.html" title="struct diesel::query_builder::ReturningClause">ReturningClause</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a SQL <code>Returning</code> clause</div></li><li><div class="item-name"><a class="struct" href="struct.SelectStatement.html" title="struct diesel::query_builder::SelectStatement">SelectStatement</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a select query</div></li><li><div class="item-name"><a class="struct" href="struct.SqlQuery.html" title="struct diesel::query_builder::SqlQuery">SqlQuery</a></div><div class="desc docblock-short">The return value of <code>sql_query</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.UpdateStatement.html" title="struct diesel::query_builder::UpdateStatement">UpdateStatement</a></div><div class="desc docblock-short">Represents a complete <code>UPDATE</code> statement.</div></li><li><div class="item-name"><a class="struct" href="struct.UpdateTarget.html" title="struct diesel::query_builder::UpdateTarget">UpdateTarget</a></div></li><li><div class="item-name"><a class="struct" href="struct.ValuesClause.html" title="struct diesel::query_builder::ValuesClause">ValuesClause</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a values clause used as part of insert statements</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AsChangeset.html" title="trait diesel::query_builder::AsChangeset">AsChangeset</a></div><div class="desc docblock-short">Types which can be passed to
<a href="struct.UpdateStatement.html#method.set" title="method diesel::query_builder::UpdateStatement::set"><code>update.set</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.AsQuery.html" title="trait diesel::query_builder::AsQuery">AsQuery</a></div><div class="desc docblock-short">Types that can be converted into a complete, typed SQL query.</div></li><li><div class="item-name"><a class="trait" href="trait.BindCollector.html" title="trait diesel::query_builder::BindCollector">BindCollector</a></div><div class="desc docblock-short">A type which manages serializing bind parameters during query construction.</div></li><li><div class="item-name"><a class="trait" href="trait.DecoratableTarget.html" title="trait diesel::query_builder::DecoratableTarget">DecoratableTarget</a></div><div class="desc docblock-short">Interface to add information to conflict targets.
Designed to be open for further additions to conflict targets like constraints</div></li><li><div class="item-name"><a class="trait" href="trait.IntoBoxedClause.html" title="trait diesel::query_builder::IntoBoxedClause">IntoBoxedClause</a></div><div class="desc docblock-short">A trait used to construct type erased boxed variant of the current query node</div></li><li><div class="item-name"><a class="trait" href="trait.IntoUpdateTarget.html" title="trait diesel::query_builder::IntoUpdateTarget">IntoUpdateTarget</a></div><div class="desc docblock-short">A type which can be passed to <a href="../dsl/fn.update.html" title="fn diesel::dsl::update"><code>update</code></a> or <a href="../dsl/fn.delete.html" title="fn diesel::dsl::delete"><code>delete</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.Query.html" title="trait diesel::query_builder::Query">Query</a></div><div class="desc docblock-short">A complete SQL query with a return type.</div></li><li><div class="item-name"><a class="trait" href="trait.QueryBuilder.html" title="trait diesel::query_builder::QueryBuilder">QueryBuilder</a></div><div class="desc docblock-short">Constructs a SQL query from a Diesel AST.</div></li><li><div class="item-name"><a class="trait" href="trait.QueryFragment.html" title="trait diesel::query_builder::QueryFragment">QueryFragment</a></div><div class="desc docblock-short">An untyped fragment of SQL.</div></li><li><div class="item-name"><a class="trait" href="trait.QueryId.html" title="trait diesel::query_builder::QueryId">QueryId</a></div><div class="desc docblock-short">Uniquely identifies queries by their type for the purpose of prepared
statement caching.</div></li><li><div class="item-name"><a class="trait" href="trait.SelectClauseExpression.html" title="trait diesel::query_builder::SelectClauseExpression">SelectClauseExpression</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">Specialised variant of <code>Expression</code> for select clause types</div></li><li><div class="item-name"><a class="trait" href="trait.SelectQuery.html" title="trait diesel::query_builder::SelectQuery">SelectQuery</a></div><div class="desc docblock-short">Indicates that a type is a <code>SELECT</code> statement.</div></li><li><div class="item-name"><a class="trait" href="trait.UndecoratedInsertRecord.html" title="trait diesel::query_builder::UndecoratedInsertRecord">UndecoratedInsertRecord</a><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">Marker trait to indicate that no additional operations have been added
to a record for insert.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.debug_query.html" title="fn diesel::query_builder::debug_query">debug_query</a></div><div class="desc docblock-short">Takes a query <code>QueryFragment</code> expression as an argument and returns a type
that implements <code>fmt::Display</code> and <code>fmt::Debug</code> to show the query.</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.BoxedDeleteStatement.html" title="type diesel::query_builder::BoxedDeleteStatement">BoxedDeleteStatement</a></div><div class="desc docblock-short">A <code>DELETE</code> statement with a boxed <code>WHERE</code> clause</div></li><li><div class="item-name"><a class="type" href="type.BoxedUpdateStatement.html" title="type diesel::query_builder::BoxedUpdateStatement">BoxedUpdateStatement</a></div><div class="desc docblock-short">An <code>UPDATE</code> statement with a boxed <code>WHERE</code> clause.</div></li><li><div class="item-name"><a class="type" href="type.BuildQueryResult.html" title="type diesel::query_builder::BuildQueryResult">BuildQueryResult</a></div><div class="desc docblock-short">A specialized Result type used with the query builder.</div></li><li><div class="item-name"><a class="type" href="type.IncompleteInsertOrIgnoreStatement.html" title="type diesel::query_builder::IncompleteInsertOrIgnoreStatement">IncompleteInsertOrIgnoreStatement</a></div><div class="desc docblock-short">Represents the return type of <a href="../dsl/fn.insert_or_ignore_into.html" title="fn diesel::dsl::insert_or_ignore_into"><code>diesel::insert_or_ignore_into</code></a></div></li><li><div class="item-name"><a class="type" href="type.IncompleteReplaceStatement.html" title="type diesel::query_builder::IncompleteReplaceStatement">IncompleteReplaceStatement</a></div><div class="desc docblock-short">Represents the return type of <a href="../dsl/fn.replace_into.html" title="fn diesel::dsl::replace_into"><code>diesel::replace_into</code></a></div></li><li><div class="item-name"><a class="type" href="type.InsertOrIgnoreStatement.html" title="type diesel::query_builder::InsertOrIgnoreStatement">InsertOrIgnoreStatement</a></div><div class="desc docblock-short">Represents a complete <code>INSERT OR IGNORE</code> statement.</div></li><li><div class="item-name"><a class="type" href="type.ReplaceStatement.html" title="type diesel::query_builder::ReplaceStatement">ReplaceStatement</a></div><div class="desc docblock-short">Represents a complete <code>INSERT OR REPLACE</code> statement.</div></li></ul><h2 id="derives" class="small-section-header"><a href="#derives">Derive Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="derive" href="derive.AsChangeset.html" title="derive diesel::query_builder::AsChangeset">AsChangeset</a></div><div class="desc docblock-short">Implements <code>AsChangeset</code></div></li><li><div class="item-name"><a class="derive" href="derive.QueryId.html" title="derive diesel::query_builder::QueryId">QueryId</a></div><div class="desc docblock-short">Implements <code>QueryId</code></div></li></ul></section></div></main></body></html>